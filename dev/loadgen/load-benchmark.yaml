## start with
##    loadgen benchmark prod-benchmark.yaml

workspaces: 10
ideImage: eu.gcr.io/gitpod-core-dev/build/ide/code:commit-ff263e14024f00d0ed78386b4417dfa6bcd4ae2f
environment:
  - name: "CPU_COUNT"
    value: "3"
  - name: "CPU_BACKOFF"
    value: "10000000"
  - name: "CPU_TIMEOUT"
    value: "600s"
  - name: "IO_FILE_SIZE"
    value: "2g"
  - name: "IO_TOTAL"
    value: "50g"
  - name: "IO_BLOCKSIZE"
    value: "8k"
  - name: "IO_TIMEOUT"
    value: "600"
  - name: "MEMORY_BYTES"
    value: "6G"
  - name: "THEIA_SUPERVISOR_TOKENS"
    value: '[{"token":"foobar","host":"gitpod-staging.com","scope":["function:getWorkspace","function:getLoggedInUser","function:getPortAuthenticationToken","function:getWorkspaceOwner","function:getWorkspaceUsers","function:isWorkspaceOwner","function:controlAdmission","function:setWorkspaceTimeout","function:getWorkspaceTimeout","function:sendHeartBeat","function:getOpenPorts","function:openPort","function:closePort","function:getLayout","function:generateNewGitpodToken","function:takeSnapshot","function:storeLayout","function:stopWorkspace","resource:workspace::fa498dcc-0a84-448f-9666-79f297ad821a::get/update","resource:workspaceInstance::e0a17083-6a78-441a-9b97-ef90d6aff463::get/update/delete","resource:snapshot::*::create/get","resource:gitpodToken::*::create","resource:userStorage::*::create/get/update"],"expiryDate":"2020-12-01T07:55:12.501Z","reuse":2}]'
repos:
  - cloneURL: https://github.com/Furisto/workspace-stress
    cloneTarget: master
    workspaceImage: eu.gcr.io/gitpod-dev/workspace-images:dd3075638ccf424374cc9c681b3d2338908d07115b28e54856cd45604c33768c